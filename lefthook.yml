commit-msg:
  jobs:
    - name: commitlint
      run: pnpm exec commitlint --edit {1}
pre-commit:
  parallel: true
  jobs:
    - group:
        parallel: false
        jobs:
          - name: Ruff Check
            run: uv run -m ruff check --fix --force-exclude {staged_files}
            glob: "*.py"
            stage_fixed: true
          - name: Ruff Format
            run: uv run -m ruff format --force-exclude {staged_files}
            glob: "*.py"
            stage_fixed: true
          - name: Mypy
            run: uv run -m mypy --scripts-are-modules {staged_files}
            glob: "*.py"
    - name: EditorConfig
      run: editorconfig-checker {staged_files}
    - name: Oxfmt
      run: pnpm exec oxfmt --no-error-on-unmatched-pattern {staged_files}
      stage_fixed: true
    - name: yamllint
      run: yamllint --list-files --strict {staged_files}
      glob: "*.{yaml,yml}"
